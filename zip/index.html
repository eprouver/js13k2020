<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width; initial-scale=1; maximum-scale=1.0; user-scalable=yes;">
  <meta name="monetization" content="$ilp.uphold.com/njQnNZy68WNK">
  <title>JS13K</title>
  <style>
*{box-sizing:border-box;touch-action:manipulation!important;font-family:arial,sans-serif}html,body,#timer{position:fixed;overflow:hidden;width:-moz-available;width:-webkit-fill-available;width:fill-available;height:-moz-available;height:-webkit-fill-available;height:fill-available;max-height:100vh;max-width:100vw}body{position:relative;background:#111;user-select:none;margin:0;padding:0;display:flex;justify-content:center;transition:background 1s ease}button{border:2px solid #000;margin:5px;padding:10px;width:auto;overflow:visible;background:transparent;color:inherit;font:inherit;line-height:normal;-webkit-appearance:none}svg#defs{display:none}#bar{text-align:center;height:100%;width:100%;display:flex;flex-direction:column;box-sizing:border-box;transform:translateX(-100%);transition:transform .25s ease}#bar-holder:hover #bar,#bar-holder.active #bar,#bar-holder.show #bar{transform:translateX(0)}#bar p{color:#fff;font-size:18px;line-height:0;font-family:arial}.branch{width:100%;background:#555;color:#fff;height:6px}.leaves{display:flex;flex-grow:1}.leaf{flex-grow:1;position:relative;font-size:0;opacity:0;background:none;height:0}.leaf:before{content:'';top:60%;position:relative;width:50%;height:10px;max-height:20%;display:block;margin:0 auto;font-size:15px;transition:all .25s ease;left:1px}.leaf.ended:before{background:red;top:40%}.leaf:after{content:'';height:40%;position:absolute;border:1px solid #777;top:0;border-style:dotted;box-sizing:border-box;transition:all .25s ease}.leaf.finished:before{content:'üîç';transition:all .25s ease;font-size:0;background:none}.leaf.finished:after{content:'';height:100%;position:absolute;border:3px solid #369a36;top:0;box-sizing:border-box;margin-left:-2px}.leaf.testing:after{height:60%}.leaf.testing:before{content:'';top:60%;width:auto}.leaf.testing,.leaf.finished,.leaf.ended{font-size:3em;opacity:1;height:auto}.leaf.testing:before{content:'üëÄ';background:none;font-size:1em;filter:none}#bar-holder{width:10vw;height:90vh;position:absolute;left:0;font-size:10px}#bar.complete .leaf.finished:after,#bar.complete .branch{border-color:#f0f;background:#f0f;color:#f0f;transition:all 1s ease;font-size:.5em}#searching{height:1em;width:1em;border-radius:1em;border:12px solid rgba(1,255,112,0.24);position:absolute;font-size:50vh;margin-top:.5em;transform-origin:50% 50%;transform:scale(0);opacity:0;border-style:dashed;pointer-events:none}#searching.expand{opacity:1;transform:scale(50) rotate(-800deg);transition:transform 6s linear 200ms}.toggle-sound{background:none;border:none;position:absolute;top:10px;right:10px;cursor:pointer}.mobile .toggle-sound{display:none}#container{position:absolute;transform-origin:left top;transition:all 1100ms ease-in-out 400ms;transform-style:preserve-3d;top:50%;left:50%;perspective:6500px}#container.winning .slide.finished,#container.winning .slide.failed,#container.winning .slide.dummy{display:none}#container.playing .slide.finished,#container.playing .slide.failed,#container.playing .slide.dummy{opacity:0;pointer-events:none}#container.loading{pointer-events:none}#viewport{position:absolute;transform-origin:left top;transition:all 600ms ease-in-out;transform-style:preserve-3d}#viewport.loading{display:none}.slide{transform-style:preserve-3d;position:absolute;width:605px;height:500px;font-family:emoji,helvetica,arial,sans-serif;transition:all 1000ms ease-in-out 0;text-align:center;font-size:24px;border-radius:5px}.slide p{letter-spacing:-.5px}@keyframes bcolor{0%{border-color:#19dcea}25%{border-color:#b22cff}50%{border-color:#ea2222}75%{border-color:#f5be10}to{border-color:#3bd80d}}.slide-canvas,.slide .explode-copy{position:absolute;width:605px;height:500px;top:0;left:0;transition:transform ease-in-out,opacity ease-in,filter ease-out;pointer-events:none}.slide.failed{background:#a11;color:#400;border:5px solid red;transition:opacity .25s ease,background 400ms ease,border 120ms ease}.slide.finished{background:#148;color:#052040;border:5px solid #00356b;transition:opacity .25s ease,background 400ms ease,border 120ms ease;text-shadow:2px 2px 0 #00356b;transition:none!important}.slide.hidden{background-color:transparent;border-color:transparent}.slide.playing{border:5px solid #fbfbd7;background:#ccc;overflow:hidden}.slide.loading{border:50px solid #ff0;opacity:1;transition:background 1s ease,border 100ms ease}.slide.winning{background:#01ff70;box-shadow:0 0 0 2000px #01ff70;transition:opacity .15s ease-in-out 2.5s,box-shadow 1s ease}.slide.winning:before{content:"‚úåÔ∏è";position:absolute;font-size:130px;top:200px;left:130px;animation:ease .5s infinite alternate bounce}.slide.winning:after{content:"‚úåÔ∏è";position:absolute;font-size:130px;top:200px;right:130px;transform:scaleX(-1);animation:ease .5s infinite alternate bounce}.slide.dummy{background:#222}@keyframes bounce{0%{margin-top:0}50%{margin-top:-50px}100%{margin-top:0}}h1{font-size:170px}h2{margin:10px 0 20px;font-size:60px;line-height:80px;letter-spacing:-2px;color:#ffa0fb;text-shadow:2px 2px 2px #5000ff;transform:scale(1.2) rotate(6deg) translateZ(10px);background:#222;box-shadow:0 5px 10px rgba(0,0,0,0.5);margin-bottom:36px;animation:5s bcolor ease infinite;border-right:4px solid #000;border-bottom:4px solid #000}.glitch{filter:url(#glitch)}#start-button{font-size:40px;width:60%;margin-top:30px;box-shadow:0 0 2px 2px #aaa,inset 0 0 2px 2px #aaa}.slide.playing.instructions{border:5px solid #19eded;animation:3s bcolor ease infinite;padding:20px;overflow:visible}.game{width:595px;height:440px;position:relative;overflow:hidden;font-size:50px;background:#666;display:flex;align-items:center;justify-content:center;transform:translateY(100%);transition:all .5s ease-out}#taptap .piece{height:1em;width:1em;position:absolute;transition:transform linear;border-radius:1em;cursor:pointer}#taptap .piece.bad{transform-origin:50% 50%;font-size:1.2em;z-index:1}#taptap .piece.bad div{animation:2s steps(1) 0 infinite normal both running pulsate-fwd}@keyframes pulsate-fwd{0%,to{transform:scale(1)}50%{transform:scale(1.3)}}#taptap .piece.left{left:-20%;margin-left:-1em}#taptap .piece.right{left:120%;margin-left:0}#flipper .row{display:flex;width:100%;flex-grow:1;align-items:center;justify-content:space-around;transform:translateZ(60px)}#flipper .piece{width:30%;text-align:center;border:2px solid #000;height:90%;background:#5e278f;box-shadow:inset 0 0 20px #000;display:flex;align-items:center;justify-content:space-around;transition:.5s ease all;transform:rotate3d(-1,1,0,180deg);transform-style:preserve-3d;cursor:pointer;z-index:1}#flipper .piece:after{content:'';background:#fff;height:100%;width:100%;position:absolute;top:0;transform:translateZ(1px)}#flipper .piece:before{content:'click';position:absolute;font-size:.5em;transform:scaleY(-1);top:0;color:#8149b3}#flipper .piece.clicked{pointer-events:none;transform:rotate3d(-1,1,1,0deg) translateY(-10px);z-index:1}#flipper .piece svg{transform:translateZ(5px)}#flipper .piece.finished{pointer-events:none;opacity:0;transform:rotate3d(0,1,0,300deg) scale(2)}.game.disabled{pointer-events:none}#controls.game,#flipper.game{display:flex;flex-direction:column}#controls.lock-msg{box-shadow:inset 0 0 0 26px red}#controls .c-holder{display:flex;flex-direction:row;top:0;left:0;width:100%;height:100%;justify-content:space-around;z-index:2}#controls .dial-pos,#controls .tog-holder{position:relative;height:1.5em;width:1.5em}#controls .tog-holder{border:2px solid #afafaf;background:rgba(220,220,220,0.65);box-shadow:inset 0 0 20px rgba(0,0,0,0.5),0 6px 11px #444;text-align:center;transform-style:preserve-3d;transition:all .5s ease}#controls .tog-holder.flipped{transform:rotateY(180deg)}#controls .tog-holder.flipped .tog-back{text-shadow:0 0 .1em #fff}#controls .tog-holder.flipped .tog-front{text-shadow:0 0 .1em #000}#controls .tog-holder .tog-front,#controls .tog-holder .tog-back{position:absolute;width:100%;line-height:1.55em;transition:text-shadow .5s ease .25s}#controls .tog-holder .tog-front{transform:translateZ(1px);text-shadow:0 0 .1em #fff}#controls .tog-holder .tog-back{transform:translateZ(-1px) scaleX(-1);text-shadow:0 0 .1em #000}#controls .control{display:flex;position:relative;flex-grow:1;justify-content:space-around;flex-direction:column;cursor:pointer;align-items:center;transition:none;transform:translateZ(60px)}#controls .lock-msg{position:absolute;width:100%;z-index:1;transform:translateZ(10px);padding:10px;text-shadow:1px -1px 2px #fff;top:25%;bottom:1.45em;font-size:3em;opacity:.3}#controls .control.winner .dial,#controls .control.winner .key-button,#controls .control.winner .tog-holder{transition:all .5s ease;background:#fff;box-shadow:0 0 5px #fff;border:2px solid #fff;color:#eee}#controls .control.winner .dial:before{border-left:.5em solid #fff}#controls .key-holder{font-size:.32em;display:flex;flex-direction:column;justify-content:space-around;padding:1px;transition:all .25s ease}#controls .key-holder.emph .key-button{background:#ff0}#controls .key-button{font-size:1.9em;text-align:center;margin:.06em;flex-grow:1;box-shadow:inset 0 0 0 1px #444,inset 0 0 20px #eee,0 5px 0 #888,0 5px 5px 1px #000;height:1.25em;line-height:1.25em;border-radius:.2em;background:#afafaf;transition:all .2s ease;min-width:1.5em}#controls .key-button:hover{transform:translateY(5px);box-shadow:inset 0 0 0 1px #444,inset 0 0 20px #eee,0 0 0 #888}#controls .key-row{display:flex;flex-direction:row}#controls .dial-holder{position:absolute;display:flex;left:-.25em;font-size:.65em;align-self:center;width:3em;height:2.25em}#controls .dial-holder div[class*="setting"]{position:absolute;font-size:.5em;left:3em;border-radius:1em;height:1em;transition:all .25s ease;line-height:1.3em}#controls .dial-holder .setting1{top:.05em}#controls .dial-holder .setting2{top:1.7em;margin-left:.7em}#controls .dial-holder .setting3{top:3.15em}#controls .dial{display:flex;justify-content:center;align-items:center}#controls .dial div{font-size:1em;font-weight:700;pointer-events:none;line-height:1em}#controls .dial-holder[data-setting="set_0"] .dial{transform:rotate(-32deg)}#controls .dial-holder[data-setting="set_0"] .setting1{font-size:1em;margin-left:-1.5em;margin-top:-.5em;text-shadow:0 0 12px white,0 0 12px white,0 0 12px #fff}#controls .dial-holder[data-setting="set_1"] .dial{transform:rotate(10deg)}#controls .dial-holder[data-setting="set_1"] .setting2{font-size:1em;margin-top:-1.25em;margin-left:-1.25em;text-shadow:0 0 12px white,0 0 12px white,0 0 12px #fff}#controls .dial-holder[data-setting="set_2"] .dial{transform:rotate(50deg)}#controls .dial-holder[data-setting="set_2"] .setting3{font-size:1em;margin-left:-1.75em;margin-top:-1.5em;text-shadow:0 0 12px white,0 0 12px white,0 0 12px #fff}#controls .dial{position:absolute;font-size:.75em;top:1.4em;left:.2em;margin-top:-.9em;width:1.8em;height:1.8em;border-radius:100%;background:#ccc;transform-origin:50% 50%;transition:transform .4s ease;border:2px solid #000;box-shadow:inset 0 0 10px #333,0 0 10px #222}#controls .dial:before{content:"";font-size:1.5em;top:.2em;right:-.45em;position:absolute;border-top:.25em solid transparent;border-bottom:.25em solid transparent;border-left:.5em solid #000;transform:rotate(-10deg)}#game-holder{width:500px;height:400px;margin:0 auto}.game #score{font-size:10em;text-align:center;color:rgba(255,255,255,0.3);position:absolute}.game-instruction{text-align:center;line-height:2em;text-overflow:ellipsis;height:2em;overflow:hidden;white-space:nowrap;width:80%;font-family:Arial,sans-serif;margin:0 auto}.game-instruction .attn{font-size:2.5em;color:#666;display:inline-block;position:absolute;left:0}#first-emo{line-height:1.5em;font-size:4em;margin:0 .3em;background:#a3a3a3;border-radius:5px}#findTheJack.game{font-size:45px}#findTheJack .piece{position:absolute;transform-style:preserve-3d;margin-top:-1em;margin-left:-1em;transition:transform 1s ease;top:0;left:0;background:none}#findTheJack .card{width:1.75em;line-height:1.75em;text-align:center;border:2px solid #fff;height:1.75em;background:#444;border-radius:5px;display:flex;align-items:center;justify-content:space-around;transform:rotate3d(-1,1,0,180deg);transform-style:preserve-3d;cursor:pointer;transition:transform .5s ease,background-color .5s ease}#findTheJack .white .card{background:#fff}#findTheJack .variant .card{background:#444;border-color:#444}#findTheJack .card.clicked{pointer-events:none;transform:rotate3d(-1,1,0,0deg) scale(1.15);z-index:1}#findTheJack .card.clicked.winner{box-shadow:0 0 10px white,0 0 10px white,0 0 10px #fff;border-color:#fff;background:#fff}#findTheJack .card div{transform:translateZ(5px)}#findTheJack .card.clicked.winner.fadeOut{box-shadow:none;border-color:#fff;filter:none;z-index:10;transform:scale(0.8);background:#fff}#findTheJack .card.clicked.fadeOut{transform:scale(0.8);background:#333;border-color:#333}.not-playing{opacity:0;pointer-events:none}#timer-holder{position:fixed;width:100%;pointer-events:none;height:100%;top:0;left:0;transition:opacity .5s ease;filter:blur(2px)}svg#timer{width:100%;height:100%}#timer #timer-path{stroke-linejoin:round;stroke:#11c85e}
  </style>
</head>
<body>
<!-- partial:index.partial.html -->
<div id="timer-holder" class="not-playing">
  <svg id="timer" xmlns="http://www.w3.org/2000/svg" width="700" height="603" viewbox="0 0 700 603">
    <defs>
      <filter id="glitch">
        <feColorMatrix in="SourceGraphic" mode="matrix" values="1 0 0 0 0  0 0 0 0 0  0 0 0 0 0  0 0 0 1 0" result="r" />
        <feOffset in="r" result="r" dx="-1">
          <animate attributeName="dx" attributeType="XML" values="0; -2; 0; -3; -2; -1; 0; -3; 0" dur="7s" repeatCount="indefinite"/>
        </feOffset>
        <feColorMatrix in="SourceGraphic" mode="matrix" values="0 0 0 0 0  0 1 0 0 0  0 0 0 0 0  0 0 0 1 0" result="g"/>
        <feOffset in="g" result="g" dx="0" dy="1">
          <animate attributeName="dx" attributeType="XML" values="0; 0; 0; -3; 0; 3; 0; -1; 0" dur="5s" repeatCount="indefinite"/>
        </feOffset>
        <feColorMatrix in="SourceGraphic" mode="matrix" values="0 0 0 0 0  0 0 0 0 0  0 0 1 0 0  0 0 0 1 0" result="b"/>
        <feOffset in="b" result="b" dx="0" dy="4">
          <animate attributeName="dx" attributeType="XML" values="0; 1; -1; 2; 0; 2; 0; 3; 0" dur="3s" repeatCount="indefinite"/>
        </feOffset>
        <feBlend in="r" in2="g" mode="lighten" result="blend" />
        <feBlend in="blend" in2="b" mode="lighten" result="blend" />
      </filter>
    </defs>

    <path id="timer-path" d="M315 71l-1-62h-56v29h33l4-16H182v20l-32-1V2h-23v12h40v13H63V10L10 9 9 83h29V23H23v138h16v19H7l5 22h26v30H8v-20h16v82h14l1 75H9v-21s2-27 0-27h16v116H8v42l32 2-1-19H23v103l43 3c0 1 0 23-1 22H7v-10h87v-19h73v29h26v-27h26v15h89v-17h-41v31h103l-1-22h41v-16l36 8s0 24-1 23c1 1 27-3 27-2l-1-23h31v32h-17l-1-18h83v16h42v-33h-27v21h107v-61l-29 1-1 72h19V469h-20v22h32v-54h-31v-68h32v-26h-32v-63h29v41h-18v-84h16v-19h-29v-25h33v-35c0 2-31 0-32 0v-38h30l1 20-17-1-1-78h-15v24l32-3 2-78h-81v38l65-1-1-20-82 1-1-15-27-1v37h-20V19l-45-1v23h-45l6-38 23 6-1 16h-49v17h-26V7h-26v26c0 1 2 44-4 39"
    stroke-opacity="null" stroke-dasharray="5307.3" stroke-dashoffset="0" stroke-width="3" fill="none"/></svg>
</div>
<div id="searching"></div>
<div id="container"  style="transform: scale(0) rotateY(90deg) rotateZ(90deg)">
  <div id="viewport">
    <div id="title" class="slide playing instructions">
      <h2 class="glitch" onclick="if(!isMobile) { document.body.classList.toggle('glitch'); }">90's Movie Hacker</h2>
      <p>The system has been hacked!</p>
      <p>Solve the puzzles before you're blocked.</p>
      <p>Find and destroy the <strong style="font-size: 1.2em">&ldquo;404 - null pointers&rdquo;</strong>.</p>
      <p>You're the best hacker we've got in this movie!</p>
      <button id="start-button" onclick="viewport.style = viewportTransform([1000,0,0,0,90,90]); play(config.loadMusic);">Next</button>
      <a class="toggle-sound" onclick="toggleSound()">üîä</a>
    </div>

    <div class="slide playing instructions" style="transform: translate(-50%, -50%) translate3d(1000px, 0px, 0px) rotateX(0deg) rotateY(90deg) rotateZ(90deg);">
      <p id="first-emo">üë®üèΩ‚Äçüíª ‚áÜ üë©üèø‚Äçüíª</p>
      <p>Become a <strong><a href="https://coil.com/explore" target="_BLANK">Coil</a></strong> member to support creators.</p>
      <p>Good Luck!</p>
      <button id="start-button" onclick="reset(true); nextSlide();  play(config.start);">Let's Go!</button><br/><br/>
      <a class="toggle-sound" onclick="toggleSound()">üîä</a>
    </div>
  </div>
</div>

<div id="bar-holder" class="glitch" onclick="this.classList.toggle('show')">
  <div id="bar">
    <p>Progress</p>
  </div>
</div>

<a class="toggle-sound" onclick="toggleSound()">üîä</a>

<!-- partial -->
  <script>
var isMobile=false;const config={height:600,width:700,base:[0,0,-2000,0,0,0],loadMusic:[,,,17,16],four:[,,,21,,,21,,,21,,24],block:[,,,,,21,,21,,24],levelUp:[,,,12,,,9,,9,,,7,,4,5,4],start:[,,21,,16,,12,,9,7,4],explode:[,25,24,25,24,25,24,25],winProgress:700,startProgress:1300,zoomScaler:isMobile?0.8:1.5,progressDecay:0.9,endingSpeed:200,explodeScale:2300,languages:[],difficulties:[1,1,2],targets:[1,1,1],diftimes:1.55,tartimes:1.75,levelProgress:2000,timeLimit:40,currentLevel:1,};if(typeof window.orientation!=='undefined'){isMobile=true;} const viewport=document.getElementById("viewport");const container=document.getElementById("container");const searching=document.getElementById("searching");const randBetween=(min,max)=>{return~~(Math.random()*(max-min+1)+min);};const removeAllChildren=(parent)=>{while(parent.firstChild){parent.removeChild(parent.firstChild);}};var sound=true;const toggleSound=()=>{sound=!sound;play([,12]);[].forEach.call(document.getElementsByClassName("toggle-sound"),(ts)=>{ts.innerHTML=sound?"üîä":"üîà";});};const selectNewVoice=()=>{const oldLang=config.lang;var tries=0;while(config.lang===oldLang&&tries<3){tries++;config.lang=config.languages[randBetween(0,config.languages.length)];} voice=window.speechSynthesis.getVoices().filter((voice)=>voice.lang.indexOf(config.lang)>-1);voice=voice[randBetween(0,voice.length)];}; var voice;selectNewVoice();var say=(m)=>{if(!sound)return;speechSynthesis.cancel();const msg=new SpeechSynthesisUtterance();msg.voice=voice;msg.volume=3;msg.rate=1.3;msg.pitch=randBetween(3,12)/10;msg.text=m;msg.lang=config.lang;speechSynthesis.speak(msg);};const play=(D)=>{if(!sound)return;eval(`with(new AudioContext) with(G=createGain()) for(i in D) with(createOscillator()) if(D[i]) connect(G),G.connect(destination),start(i*.1),frequency.setValueAtTime(440*1.06**(13-D[i]),i*.1),gain.setValueAtTime(0.5,i*.1),gain.setTargetAtTime(.0001,i*.1+.08,.005),stop(i*.1+.09)`);};setInterval(()=>{[].forEach.call(document.getElementsByClassName("remove-me"),(p)=>{p.parentNode.removeChild(p);});},2000);document.body.addEventListener('touchend',function preventZoom(e){var t2=e.timeStamp;var t1=e.currentTarget.dataset.lastTouch||t2;var dt=t2-t1;var fingers=e.touches.length;e.currentTarget.dataset.lastTouch=t2;if(!dt||dt>500||fingers>1)return;e.preventDefault();e.target.click();});const emojis=["üêµ","üê∂","üê∫","ü¶ä","üê±","ü¶Å","üêØ","üê¥","ü¶Ñ","üêÆ","üê∑","üêó","üê≠","üêÅ","üêÄ","üêπ","üê∞","ü¶á","üêª","üê®","üêº","üêî","üê∏","üê≤","üê≥","üê¨","üê†","üêö","ü¶ã","üêå","üêú","üêû","üå∏","ü•Ä","üå≥","üå¥","üåµ","üçÅ","üçá","üçâ","üçä","üçã","üçå","üçç","üçé","üçè","üçê","üçë","üçí","üçì","ü•ù","üçÖ","ü••","ü•ë","üçÜ","ü•î","ü•ï","üåΩ","ü•í","üçÑ","ü•ú","üå∞","ü•ê","ü•ñ","ü•û","üßÄ","üçó","ü•ì","üçî","üçü","üçï","üå≠","üåÆ","ü•ó","üç§","üç¶","üç©","üç™","üç∞","üç´","üç¨","üç≠","üë¶üèª","üë¶üèº","üë¶üèΩ","üë¶üèæ","üë¶üèø","üëßüèª","üëßüèº","üëßüèΩ","üëßüèæ","üëßüèø","üë®üèª","üë®üèº","üë®üèΩ","üë®üèæ","üë®üèø","üë©üèª","üë©üèº","üë©üèΩ","üë©üèæ","üë©üèø","üë¥üèª","üë¥üèº","üë¥üèΩ","üë¥üèæ","üë¥üèø","üëµüèª","üëµüèº","üëµüèΩ","üëµüèæ","üëµüèø","üë∂üèª","üë∂üèº","üë∂üèΩ","üë∂üèæ","üë∂üèø","üë†","üëΩ","üß†","üåé","üéπ","üéª","üé∑","üé∫","üé∏","ü•Å"];const remoji=(length)=>{var arr=[];for(var i=0;i<length;i++){arr.push(emojis[~~(Math.random()*emojis.length)]);} return arr;};class game{constructor(container,difficulty=20,target=5,gameName,instruction){this.instructions=document.createElement("div");this.instructions.classList.add("game-instruction");this.instructions.innerText=instruction;say(instruction); container.append(this.instructions);this.game=document.createElement("div");this.game.setAttribute("id",gameName);this.game.classList.add("game");container.append(this.game);this.score=document.createElement("div");this.score.setAttribute("id","score");this.score.innerText=0;this.game.append(this.score);this.target=target;this.current=0;this.playing=false;this.difficulty=difficulty;this.timer=document.getElementById('timer-holder');this.timePath=document.getElementById('timer-path');this.timeLimit=config.timeLimit;this.clickEvent=['add-me'];this.clickEvent.push(isMobile?'touchstart':'mousedown');} end(winner){this.paused=true;this.playing=false;this.timer.classList.add('not-playing');if(winner){nextSlide(true);}else{nextSlide(false);}} disable(bool=true){if(bool){this.game.classList.add("disabled");}else{this.game.classList.remove("disabled");}} beginTimer(){if(this.timing)return;var duration=1000*this.timeLimit;var last=+new Date();var elapsed=0;var rate=0;var step=(delta)=>{if(!this.playing)return;var current=+new Date();if(this.paused){last=current;this.timePath.setAttribute("stroke-dashoffset",(rate*5329).toFixed(1));requestAnimationFrame(step);return;} elapsed+=current-last;last=current;var remaining=duration-elapsed;if(remaining<60){this.timer.classList.add('not-playing');this.timePath.setAttribute("stroke-dashoffset",0);if(!this.playing)return;this.end(false);return;}else{rate=1-remaining/duration;this.timePath.setAttribute("stroke-dashoffset",(rate*5329).toFixed(1));} requestAnimationFrame(step);}; step();this.timing=true;} start(){this.game.classList.add('lock-msg');this.timer.classList.remove('not-playing');this.timePath.setAttribute("stroke-dashoffset",0);setTimeout(()=>{this.playing=true;this.game.setAttribute('style','transform: none');},1000);}} class controls extends game{constructor(container,difficulty=20,target=5,id="controls",info=`Use any controls to make this sequence`){target=Math.min(Math.ceil(target*0.25),4);difficulty=Math.max(difficulty,1)*1.3;super(container,difficulty,target,id,info);this.pads=[["üá´üá∑","üá®üá¶","üá®üá©","üá©üáø"],["‰∏ç","ÊÄù","ÂèØ","ËÆÆ"],["‚òÄÔ∏è","‚õÑ","üçÇ","üå∑"],["ü•É","üç∫","üçπ","üç∑"],["üöë","üöí","üöì","üöï"],["üéÉ","üéÖ","ü¶É","‚òòÔ∏è"],["üíÄ","‚ö∞Ô∏è","üßü","üëª"],["üëÇ","üëÅÔ∏è","üëÑ","üëÉ"],["Îèô","ÏÑú","Î¨∏","Îãµ"],["üêµ","üôà","üôâ","üôä"],];this.resets=[];this.disable();this.setup();} end(winner){this.paused=true;this.playing=false;if(winner){this.disable();this.instructions.innerText="Unlocked!";[].forEach.call(document.querySelectorAll("#controls .control"),(c)=>{c.classList.add('winner')});setTimeout(()=>{super.end(true);},1000);}else{this.disable();this.instructions.innerText="Incomplete";[].forEach.call(document.querySelectorAll("#controls .control"),(c)=>{c.style.transition='all 1s ease';c.style.transform=`translate3d(${~~(Math.random()*300)-150}px,${~~(Math.random()*300)+400}px,0) rotateZ(${~~(Math.random()*200)-100}deg)`;});setTimeout(()=>{super.end(false);},1000);}} addScore(plus=1){this.paused=true;this.current+=plus;this.score.innerText=this.current;if(this.current>=this.target){this.end(true);}else{this.instructions.innerHTML='... Next Sequence ...';this.targetSeq=[];this.resetAll();this.start();}} clickHandler(icon){if(this.loading){this.targetSeq.push(icon);}else{if(icon===this.targetSeq[0]){say(icon);this.targetSeq.shift();if(this.targetSeq.length==0){this.paused=true;this.addScore();}else{this.instructions.innerHTML="<span class='attn'>‚û≠</span> "+this.targetSeq.join(", ");}}else{this.end(false);}}} makeDial(settings){var current=0;const holder=document.createElement("div");holder.classList.add("control");const dialPos=document.createElement("div");dialPos.classList.add("dial-pos");const dialHolder=document.createElement("div");dialHolder.classList.add("dial-holder");dialHolder.setAttribute("data-setting",`set_${current}`);const dial=document.createElement("div");dial.innerHTML='<div>‚ü≥</div>';dial.classList.add("dial");const setting1=document.createElement("div");setting1.classList.add("setting1");setting1.innerText=settings[0];const setting2=document.createElement("div");setting2.classList.add("setting2");setting2.innerText=settings[1];const setting3=document.createElement("div");setting3.classList.add("setting3");setting3.innerText=settings[2];this.clickEvent.forEach((eve)=>{holder.addEventListener(eve,()=>{current+=1;if(current>2)current=0;dial.parentElement.setAttribute("data-setting",`set_${current}`);this.clickHandler(settings[current]);},false);});dialHolder.append(setting1);dialHolder.append(setting2);dialHolder.append(setting3);dialHolder.append(dial);dialPos.append(dialHolder);holder.append(dialPos);this.resets.push(()=>{current=0;dial.parentElement.setAttribute("data-setting",`set_${current}`);});return holder;} makeToggle(settings){var flipped=false;const holder=document.createElement("div");holder.classList.add("control");const togHolder=document.createElement("div");togHolder.classList.add("tog-holder");const togBack=document.createElement("div");togBack.classList.add("tog-back");togBack.innerHTML=settings[0];const togFront=document.createElement("div");togFront.classList.add("tog-front");togFront.innerHTML=settings[1];togHolder.append(togFront);togHolder.append(togBack);holder.append(togHolder);this.clickEvent.forEach((eve)=>{holder.addEventListener(eve,()=>{flipped=!flipped;togHolder.classList.toggle("flipped");this.clickHandler(settings[flipped?1:0]);},false);});this.resets.push(()=>{flipped=false;togHolder.classList.remove("flipped");});return holder;} makeKeyPad(){const pad=~~(Math.random()*this.pads.length);const emos=this.pads.splice(pad,1)[0];const holder=document.createElement("div");holder.classList.add("control");const keyHolder=document.createElement("div");keyHolder.classList.add("key-holder");['add-me'].forEach((eve)=>{holder.addEventListener(eve,(e)=>{e.stopPropagation();const seq=[...new Array(~~(Math.random()*4)+2)].map((a)=>emos[~~(Math.random()*emos.length)]);if(this.loading){seq.forEach((a)=>{this.targetSeq.push(a);});} keyHolder.classList.add('emph');setTimeout(()=>{keyHolder.classList.remove('emph');},500);},false);});const row1=document.createElement("div");row1.classList.add("key-row");const row2=document.createElement("div");row2.classList.add("key-row");emos.forEach((emo,i)=>{var button;button=document.createElement("div");button.innerHTML=emo;button.classList.add("key-button");[isMobile?'touchstart':'mousedown'].forEach((eve)=>{button.addEventListener(eve,(e)=>{e.stopPropagation();say(emo);if(emo===this.targetSeq[0]){this.targetSeq.shift();if(this.targetSeq.length==0){this.addScore();}else{this.instructions.innerHTML="<span class='attn'>‚û≠</span> "+this.targetSeq.join(", ");}}else{this.end(false);}},false);});if(i%2==1){row2.append(button);}else{row1.append(button);}});keyHolder.append(row1);keyHolder.append(row2);holder.append(keyHolder);return holder;} newControl(){const rand=Math.random();switch(true){case rand<0.2&&!this.keypad:this.keypad=true;return this.makeKeyPad();break;case rand<0.51:return this.makeToggle(remoji(2));break;default:return this.makeDial(remoji(3));break;}} newRow(cNum=2){var holder,cHolder,i;cHolder=document.createElement("div");cHolder.classList.add("c-holder");for(i=0;i<cNum;i++){holder=this.newControl();cHolder.append(holder);} if(Math.random()>0.5){this.game.prepend(cHolder);}else{this.game.append(cHolder);}} newSequence(){this.game.classList.add('lock-msg');this.paused=true;this.loading=true;this.targetSeq=[];const controls=document.querySelectorAll("#controls .control");const symb=~~(Math.random()*this.difficulty)+~~(Math.random()*this.difficulty*0.75)+Math.max(config.currentLevel,2);for(var i=0;i<symb;i++){setTimeout(()=>{const event=new CustomEvent("add-me");controls[~~(Math.random()*controls.length)].dispatchEvent(event);this.instructions.innerHTML="<span class='attn'>‚û≠</span> "+this.targetSeq.join(", ");},i*500);} setTimeout(()=>{this.resetAll();setTimeout(()=>{this.game.classList.remove('lock-msg');say('go');this.beginTimer();this.disable(false);this.paused=false;},500);},(symb+1)*500);} setup(){this.lockmsg=document.createElement('div');this.lockmsg.classList.add('locks');this.game.append(this.lockmsg);var thisRow,numRows=0;var numCtrls=(this.difficulty)+~~(Math.random()*(this.difficulty/this.target))+(config.currentLevel*0.35);this.keypad=false;while(numCtrls>0&&numRows<5){thisRow=Math.min(~~(Math.random()*(numCtrls*0.9))+1,6);if(thisRow>numCtrls)thisRow=numCtrls;this.newRow(thisRow);numCtrls-=thisRow;numRows++;} [].forEach.call(document.querySelectorAll("#controls .control"),(control)=>{const rect=control.getBoundingClientRect();const small=Math.min(control.offsetWidth,control.offsetHeight);control.style.fontSize=`${(small/2)}px`;});} resetAll(){this.loading=false;this.resets.forEach((r)=>r());} start(){super.start();this.disable();setTimeout(()=>{this.newSequence();this.score.innerText=this.current;this.game.prepend(this.score);},2000);}} class controls2 extends controls{constructor(container,difficulty=20,target=5){target=Math.min(Math.ceil(target*0.2),3);difficulty=Math.max(difficulty,1);super(container,difficulty,target,"controls",`Press the buttons to make this sequence`);} newControl(){return this.makeKeyPad();} newRow(cNum=2){if(!this.rows){this.rows=0;} if(this.rows<2){super.newRow(2);} this.rows++;}} class flipper extends game{constructor(container,difficulty=4,target=2){target=Math.max(config.currentLevel,~~(Math.random()*3*difficulty+Math.random()*3*target),2,12);difficulty=Math.max(target*config.currentLevel*1.2,difficulty)+2;super(container,difficulty,target,"flipper",`Find ${target} Pairs of Matching Symbols`);this.board=[];this.cards=remoji(Math.min(Math.ceil(target),Math.ceil(difficulty)));this.cards=this.cards.reduce((r,c)=>{return r.concat([c,c]);},[]);} addPiece(piece){if(!piece){piece=this.cards[~~(Math.random()*this.cards.length)];} const div=document.createElement("div");div.innerHTML=`<svg width="100%"height="100%" viewBox="-50 -50 100 75" xmlns="http://www.w3.org/2000/svg"><text x="0"y="0"text-anchor="middle"font-size="50">${piece}</text></svg>`;div.classList.add("piece");const clickstart=()=>{say(piece);this.clickHandler(div,piece);};div.onmousedown=clickstart.bind(this);div.ontouchstart=clickstart.bind(this);return div;} clickHandler(card,piece){this.disable();const clicked=document.getElementsByClassName("clicked")[0];card.classList.add("clicked");if(this.currentPiece){const winner=this.currentPiece==piece;this.currentPiece=null;setTimeout(()=>{this.paused=true;if(winner){this.addScore();clicked.classList.add('finished');card.classList.add('finished');} clicked.classList.remove("clicked");card.classList.remove("clicked");setTimeout(()=>{this.paused=false;this.disable(false);},500);},500);}else{this.currentPiece=piece;setTimeout(()=>{this.disable(false);},10);}} addScore(plus=1){this.current+=plus;this.score.innerText=this.current;if(this.current>=this.target){this.playing=false;this.disable();this.paused=true;[].forEach.call(document.getElementsByClassName("piece"),(c)=>{c.classList.add('clicked');});setTimeout(()=>{this.end(true);},1000);}} start(){super.start();const rows=Math.min(this.target/2,5)+1;const cols=Math.min(this.target/2,5)+1;this.board=[];var pieces=this.cards.slice(0).sort(()=>Math.random()>0.5?-1:1).sort(()=>Math.random()>0.5?-1:1).sort(()=>Math.random()>0.5?-1:1);var row;for(var i=0;i<(cols);i++){row=document.createElement("div");row.classList.add("row");for(var j=0;j<(rows);j++){row.append(this.addPiece(pieces.pop()));} Math.random()>0.5?this.game.append(row):this.game.prepend(row);} this.game.removeChild(this.score);this.game.prepend(this.score);this.disable(false);this.playing=true;setTimeout(()=>{this.beginTimer();},1000);}} class taptap extends game{constructor(container,difficulty,target){difficulty=Math.max(difficulty,1)*5;target=Math.min(~~(Math.random()*target*2)+2,(~~(Math.random()*20)+2));super(container,difficulty,target,'taptap',`Click on any ${target} ‚ô•Ô∏è - Avoid the üí£`);} addPiece(){if(!this.playing){return;} const piece=document.createElement("a");const left=Math.random()>0.5;const bad=Math.random()>0.5;piece.classList.add("piece");piece.classList.add(left?"left":"right");piece.classList.add(bad?"bad":"good");piece.innerHTML=bad?'<div>üí£</div>':['üß°','üíõ','üíö','üíô','üíú','üñ§','‚ù§Ô∏è'][~~(Math.random()*7)];this.game.appendChild(piece);piece.style=`transform:translateY(${(Math.random()*600)-300}px)translateX(${left?-20:20}px);`;piece.ontransitionend=()=>{piece.classList.add("remove-me");};piece.ontouchstart=this.clickHandler.bind(this,piece,bad);piece.onmousedown=this.clickHandler.bind(this,piece,bad);setTimeout(()=>{piece.style=`transform:translateY(${(Math.random()*600)-300}px)translateX(${left?800:-800}px);transition-duration:${Math.random()*4+2}s;`;},300);setTimeout(this.addPiece.bind(this),Math.random()*10000);} clickHandler(piece,bad){piece.style="display:none;";if(bad){this.end(false);}else{this.current+=1;this.score.innerText=this.current;if(this.current>=this.target){this.end(true);}}} start(){super.start();this.playing=true;this.beginTimer();for(var i=0;i<this.difficulty;i++){setTimeout(this.addPiece.bind(this),Math.random()*1000);}}} class findTheJack extends game{constructor(container,difficulty=20,target=5){target=Math.min(Math.ceil(target*0.25),4);difficulty=Math.max(difficulty,1)*1.3;const tries=Math.max(1,~~(4-config.currentLevel*0.3));super(container,difficulty,target,"findTheJack",`${tries}tries to find a key`);this.tries=tries;this.disable();} addPiece(winning=false){const piece=document.createElement("div");piece.classList.add("piece");piece.style='transform: translateY(-200px) translateX(0)';const card=document.createElement("div");card.classList.add('card');var emo=winning?this.winning:this.emos[~~(Math.random()*this.emos.length)];card.innerHTML=`<div>${emo}</div>`;if(winning){card.classList.add("winner");} piece.append(card);const clickstart=()=>{say(emo);this.clickHandler(piece,winning);};card.onmousedown=clickstart.bind(this);card.ontouchstart=clickstart.bind(this);this.game.append(piece);this.cards.push(piece);} removeCards(){this.cards.forEach((c)=>{c.style='transform: translateY(-200px) translateX(0)';setTimeout(()=>{c.parentNode.removeChild(c);},1500);});} clickHandler(piece,winner){this.disable();this.paused=true;piece.children[0].classList.add("clicked");if(winner){say('the key');this.addScore();}else{this.tries--;this.cards.forEach((c)=>{c.children[0].classList.add('clicked');c.children[0].classList.add('fadeOut');}); if(this.tries>0){setTimeout(()=>{this.removeCards();setTimeout(()=>{this.start();},2000);},2000);}else{setTimeout(()=>{this.end(false);},2000);}}} addScore(plus=1){this.current+=plus;this.score.innerText=this.current;if(this.current>=this.target){this.playing=false;this.paused=true;setTimeout(()=>{this.end(true);},1000);}} squareCards(){var i,j;for(i=0;i<this.square;i++){for(j=0;j<this.square;j++){this.cards[j+this.square*i].style=`transform:translateY(${(j+0.5)*(450/this.square)}px)translateX(${(i+0.5)*(605/this.square)}px);`;}}} shuffle(shuffNum=0){const shuffleTime=1800/this.cards.length;this.cards.forEach((c,i)=>{setTimeout(()=>{c.style=`transform:translateY(${randBetween(100,350)}px)translateX(${randBetween(200,400)}px)rotateZ(${~~(Math.random()*360)-180}deg)scale(${0.5+Math.random()});`;c.classList.toggle(Math.random()>0.8?'variant':'white');},Math.random()*i*shuffleTime);});if(shuffNum>0){shuffNum--;setTimeout(()=>{this.shuffle(shuffNum);},Math.random()*this.cards.length*shuffleTime);}else{setTimeout(()=>{this.cards=this.cards.sort(()=>(Math.random()>0.5?1:-1));this.cards.forEach(c=>c.classList.remove('white'));this.cards.forEach(c=>c.classList.remove('variant'));this.squareCards();say('select');this.disable(false);this.paused=false;},this.cards.length*shuffleTime);}} setup(){this.square=Math.min(1+config.currentLevel,6);this.cards=[];this.winning='üóùÔ∏è';this.emos=['∆î'];this.instructions.innerHTML=`Find any ${this.winning}: `+(this.tries>1?`${this.tries} rounds remaining.`:'Last Round');const winNum=Math.min(~~(this.square*this.square*0.5),~~randBetween(1,(Math.pow(this.square,2)-2)/(Math.random()*this.difficulty)));const loseNum=Math.pow(this.square,2)-winNum;var i,j;for(i=0;i<winNum;i++){this.addPiece(true);} for(i=0;i<loseNum;i++){this.addPiece(false);} this.cards=this.cards.sort(()=>(Math.random()>0.5?1:-1));setTimeout(()=>{this.squareCards();},100);} start(){super.start();this.playing=true;this.paused=true;this.beginTimer();this.disable();this.setup();const winners=document.getElementsByClassName("winner");[].forEach.call(winners,(piece,i)=>{setTimeout(()=>{piece.classList.add("clicked");setTimeout(()=>{piece.classList.remove("clicked");},2000);},500+i*(1000/winners.length));});setTimeout(()=>{this.shuffle(3);},winners.length*100+3500);}} const bar=document.getElementById('bar');const barHolder=document.getElementById('bar-holder');const leaf='<div class="leaf testing"></div>';var leafHolder,currentLeaf,appendLeaf=true,barHeight=30;const showBarHolder=(ms=2000)=>{barHolder.classList.add('active');setTimeout(()=>{barHolder.classList.remove('active');},ms);};const addBranch=()=>{const branch=document.createElement('div');branch.classList.add('branch');const leaves=document.createElement('div');leaves.classList.add('leaves');leafHolder=leaves;if(barHeight<90){barHeight+=5;} barHolder.style=`height:${barHeight}vh`;setTimeout(()=>{bar.append(branch);bar.append(leaves);},250);showBarHolder();}; const addLeaf=()=>{setTimeout(()=>{if(currentLeaf){currentLeaf.classList.remove('testing');currentLeaf.classList.add('ended');} const leaf=document.createElement('div');leafHolder.children.length?leafHolder.insertBefore(leaf,leafHolder.children[~~(leafHolder.children.length/randBetween(1,4))]):leafHolder.append(leaf);leaf.classList.add('leaf');setTimeout(()=>{leaf.classList.add('testing');appendLeaf=!appendLeaf;currentLeaf=leaf;},300);},250);showBarHolder();}; const finishLeaf=()=>{if(currentLeaf){setTimeout(()=>{currentLeaf.classList.remove('testing');currentLeaf.classList.add('finished');},250);showBarHolder();}}; const drawRect=(c,color='white')=>{c.style='display: inline-block';const ctx=c.getContext("2d");ctx.fillStyle=color;ctx.fillRect(0,0,ctx.canvas.width,ctx.canvas.height);};function explode(c,times=3){var copy;const prevslices=[];const ctx=c.getContext("2d");for(var i=0;i<15;i++){copy=document.createElement("canvas");copy.classList.add("explode-copy");copy.width=c.width;copy.height=c.height;c.parentNode.appendChild(copy);copy=copy.getContext("2d");copy.drawImage(c,0,0);copy.save();copy.filter="contrast(200%)";copy.translate(Math.random()*ctx.canvas.width,Math.random()*ctx.canvas.height);copy.rotate(2*Math.random()*Math.PI);copy.fillStyle="black";copy.scale(Math.random()*2,Math.random()*2);copy.globalCompositeOperation="destination-in";copy.fillRect(0,0,ctx.canvas.width,ctx.canvas.height);copy.restore();prevslices.forEach(function(v){copy.globalCompositeOperation="destination-out";copy.drawImage(v.canvas,0,0);});prevslices.push(copy);} copy=document.createElement("canvas");copy.classList.add("explode-copy");copy.width=c.width;copy.height=c.height;copy=copy.getContext("2d");prevslices.forEach(function(v){copy.globalCompositeOperation="source-over";copy.drawImage(v.canvas,0,0);});copy.globalCompositeOperation="source-out";copy.drawImage(c,0,0);c.parentNode.appendChild(copy.canvas);c.style="display:none";setTimeout(function(){[].forEach.call(document.querySelectorAll("canvas.explode-copy"),(v,i)=>{v.style=`transition-duration:${(Math.random()*5000)+500}ms;filter:hue-rotate(380deg)brightness(2)saturate(0.2);transform:translate3d(${randBetween(-config.explodeScale,config.explodeScale)}px,${randBetween(-config.explodeScale,config.explodeScale)}px,${randBetween(-config.explodeScale,config.explodeScale*3)}px) rotateX(${randBetween(-100,100)}deg) rotateY(${randBetween(-100,100)}deg) rotateZ(${randBetween(-100,100)}deg);opacity:0;`;v.addEventListener("transitionend",()=>{v.classList.add("remove-me");c.classList.add("remove-me");});});},10);} const windowScale=()=>{const hScale=window.innerHeight/config.height;const wScale=window.innerWidth/config.width;config.size=hScale>wScale?wScale:hScale;container.style=`transform:scale(${config.size})`;document.body.style=`width:${window.innerWidth}px;height:${window.innerHeight}px;`;const timer=document.getElementById('timer-holder');if(!timer.classList.contains('not-playing')){timer.classList.add('not-playing');setTimeout(()=>{timer.classList.remove('not-playing');},1500);}};window.onresize=windowScale;window.onorientationchange=windowScale;setTimeout(()=>{windowScale();},500);const viewportTransform=(val)=>{val=val.map((val)=>-val);return`transform:rotateZ(${val[5]}deg)rotateY(${val[4]}deg)rotateX(${val[3]}deg)translate3d(${val[0]}px,${val[1]}px,${val[2]}px)`;};const contentTransform=(val)=>{return`transform:translate(-50%,-50%)translate3d(${val[0]}px,${val[1]}px,${val[2]}px)rotateX(${val[3]}deg)rotateY(${val[4]}deg)rotateZ(${val[5]}deg);`;};var ns,points,degs,vals,progress;const reset=(empty=true)=>{ns=null;points=[0,0,0].map((p)=>randBetween(-3000,3000));degs=[0,0,0].map((p)=>randBetween(-300,300));progress=config.startProgress;viewport.style=viewportTransform(config.base);viewport.classList.add('loading');container.classList.remove('winning');windowScale();if(empty){removeAllChildren(viewport);config.winProgress*=config.progressDecay;addBranch();addLeaf();dummySlides();}};const addContent=()=>{const c=config.currentGame;const games=[taptap,controls,controls2,flipper,findTheJack];while(c===config.currentGame){config.currentGame=~~(Math.random()*games.length);} var myGame=games[config.currentGame];myGame=new myGame(ns,~~config.difficulties[config.currentGame],~~config.targets[config.currentGame]);myGame.start();};const dummySlides=()=>{var dummy,pts,degrees,pos,gray;for(var i=1;i<10;i++){for(var j=1;j<5;j++){pts=[0,0,0].map((p)=>randBetween(-3500*i,3500*i)).map(p=>p>0?p+600:p-600);degrees=[0,0,0].map((p)=>randBetween(-20,20));pos=pts.concat(degrees);dummy=document.createElement("div");dummy.classList.add("slide");dummy.classList.add("dummy");gray=randBetween(0,66);dummy.style=`${contentTransform(pos)}background-color:rgb(${gray},${gray},${gray})`;viewport.append(dummy);}}}; const nextSlide=(passed)=>{container.classList.remove('playing'); searching.classList.remove('expand');if(ns){ns.classList.remove("playing");if(!passed){config.timeLimit+=15;config.difficulties=config.difficulties.map(d=>d*0.9);say("blocked");play(config.block);ns.classList.add("failed");ns.innerHTML="<h1>üò¢</h1><p>Blocked</p>";addLeaf();}else if(progress<config.levelProgress){config.difficulties[config.currentGame]*=config.diftimes;config.targets[config.currentGame]*=config.tartimes;config.timeLimit-=2;say("for oh for. null pointer");play(config.four);ns.classList.add("finished");ns.innerHTML="<h1 class='glitch'>404</h1><p>You found a null pointer!</p>";progress+=config.winProgress;}else{config.timeLimit-=10;config.levelProgress*=1.25;config.targets=config.targets.map(t=>t+=1);say(["yess... continue","good things","Advance"][~~(Math.random()*3)]);play(config.levelUp);ns.classList.add("winning");container.classList.add("winning");config.currentLevel+=1;const faces=['üòÉ','üòÑ','üòé','üòä','ü§†','üòÜ','üòÅ','ü§©','üòú','üòã','üò≤'];ns.innerHTML=`<h1>${faces[~~randBetween(0,Math.min(config.currentLevel*2,faces.length))]}</h1>`;selectNewVoice();setTimeout(()=>{say(`Welcome to Level ${config.currentLevel}`);finishLeaf();reset(true);nextSlide();},25*config.endingSpeed);return;}} points=points.map((p)=>randBetween(-progress*config.zoomScaler,progress*config.zoomScaler));degs=[randBetween(-20,20),randBetween(-120,120),0];vals=points.concat(degs);const oldNS=ns;ns=document.createElement("div");ns.classList.add("slide");ns.style=contentTransform(vals);viewport.append(ns);container.classList.add("loading");setTimeout(()=>{viewport.classList.remove('loading');container.style=`transform:scale(${config.size/(config.startProgress*config.zoomScaler/850)})`;},5*config.endingSpeed);setTimeout(()=>{if(oldNS&&passed){oldNS.innerHTML='';const canvas=document.createElement('canvas');canvas.classList.add('slide-canvas');canvas.setAttribute('width','605');canvas.setAttribute('height','500');drawRect(canvas,passed?'#148':'#a11');oldNS.append(canvas);oldNS.classList.add('hidden');explode(canvas,1);play(config.explode);say('deleted');} const zoom=config.size/(config.startProgress*config.zoomScaler/150);container.style=`transform:scale(${zoom})`;},18*config.endingSpeed);if(!passed){setTimeout(()=>{searching.classList.add("expand");},21*config.endingSpeed);} setTimeout(()=>{play(config.loadMusic);ns.classList.add("loading");},23*config.endingSpeed);setTimeout(()=>{say("suspicion");},30*config.endingSpeed);setTimeout(()=>{ns.classList.remove("loading");ns.classList.add("playing");container.classList.remove("loading");container.style=`transform:scale(${config.size})`;ns.style=contentTransform(vals);viewport.style=viewportTransform(vals);setTimeout(()=>{container.classList.add("playing");addContent();},1800);},32*config.endingSpeed);};if(isMobile){document.body.classList.add('mobile');sound=false;} reset(false);setTimeout(()=>{config.languages=config.languages=window.speechSynthesis.getVoices().map((voice)=>voice.lang);selectNewVoice();},1000);viewport.classList.remove('loading');vals=[0,0,0,0,0,0];document.getElementById("title").style=contentTransform(vals);viewport.style=viewportTransform(vals);

  </script>

</body>
</html>
